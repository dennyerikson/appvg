{% extends 'blo/base.html' %}
{% load static %}
{% load staticfiles %}
{% load poll_extras %}

<!-- corpo da lista extendida de base.html-->
{% block content %}
<!-- <head>
  <link rel="stylesheet" media="screen and (min-width: 0px)" href="{% static 'css/small.css' %}">
  <link rel="stylesheet" media="screen and (min-width: 640px)" href="{% static 'css/mediun.css' %}">
  <link rel="stylesheet" media="screen and (min-width: 1000px)" href="{% static 'css/full.css' %}">
</head> -->
<br>
<br>
<br>
<br>
<br>
<!-- <style> .navbar_style{background-color: tomato; color: white}</style>
<div class="navbar navbar-inverse navbar-static-top">
    <div class="container">
        <button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse">
            <img src="https://img.icons8.com/ios/50/ffffff/menu-filled.png" width="30">
        </button>
        <div class="collapse navbar-collapse navHeaderCollapse">
            <ul class="nav navbar-nav navbar-right">
                
                <li><a href="#">Dados</a></li>
                <li><a href="#" data-toggle="modal" data-target="#myModal">Informações</a></li>
                <li class="active"><a href="#" data-toggle="modal" data-target="#modalCandidatos" >Cadastrar</a></li>

            </ul>
        </div>

    </div>

</div> -->
<div class="container">

        <!-- <form class="input-group" action="" method="GET">
                <div class="input-group">
                        <input name="search" type="text" class="form-control" placeholder="Search...CPF - Nome - Sala" autofocus>
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                            <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </span>
                    </div>
        </form> -->
        <br>
        <br>
                <p> 
                  <!-- <i id="i" class="glyphicon glyphicon-list"></i>Lista Candidatos do vestibular      -->
                  <i id="i" class="glyphicon glyphicon-list"></i>Lista Relação de sala    
                  

                  <!-- <i id="i" class="glyphicon glyphicon-calendar"></i> 24/11 -->
                </p>
        <table class="table table-striped">
          <thead>
            <tr>
              <!-- <th><i class="glyphicon glyphicon-ok"></i></th>
              <th id="cpf"><i class="glyphicon glyphicon-credit-card"></i> Cpf</th>
              <th><i class="glyphicon glyphicon-user"></i> Nome</th>
              <th><i class="glyphicon glyphicon-home"></i> Sala</th> -->


              <!-- <th><i class="glyphicon glyphicon-ok"></i></th> -->
              <th id="cpf"><i class="glyphicon glyphicon-education"></i> Curso</th>
              <th><i class="glyphicon glyphicon-time"></i> Periodo</th>
              <th><i class="glyphicon glyphicon-pencil"></i> Disciplina</th>
              <!-- <th><i class="glyphicon glyphicon-home"></i> Sala</th>
              <th><i class="glyphicon glyphicon-home"></i> Dia</th>
              <th><i class="glyphicon glyphicon-home"></i> Série</th>
              <th><i class="glyphicon glyphicon-education"></i> Professor</th> -->
              <th><i class="glyphicon glyphicon-plus"></i> Detalhes</th>
            </tr>
          </thead>
          </table>
        <div id="table" class="table-overflow">
          <table class="table table-striped">
            <tbody>
              <!-- <style>td{white-space: pre-wrap;}</style> -->
              {% for horario in horarios %}
                  <tr>
                      <!-- <form action="" method="POST">{% csrf_token %}
                        <td>
                          <input onClick="this.form.submit();" type="checkbox" name="ckeckbox" value="{{ posts.cpf }}" {% if posts.confirm %}checked{% endif %}/>
                        </td>
                      </form> -->
                      
                      <!-- VESTIBULAR -->
                      <!-- <td>{{posts.cpf}} </td>
                      <td> {{posts.nome|display_name_tag}}</td>
                    
                      <td>{{posts.sala}}</td>
                      <td><a href="#" data-toggle="modal" data-target="#exampleModal" data-whateverdetalhes="{{posts.curso}}" >+</a></td> -->
                      
                      <!-- AULA -->
                      <td>{{horario.curso}} </td>
                      <td> {{horario.periodo}}</td>
                      <td> {{horario.disciplina}}</td>
                      <!-- <td>{{horario.sala}}</td>
                      <td>{{horario.dia}}</td>
                      <td>{{horario.serie}}</td>
                      <td>{{horario.professor}}</td> -->
                      <!-- <td><a style="text-decoration:none" href="#">+</a></i></td> -->
                      <td><a href="#" data-toggle="modal" data-target="#exampleModal" 
                        data-whatevercurso="{{horario.curso}} {{horario.periodo}}"
                        data-whateverdetalhes="Disciplina: {{horario.disciplina}}&#013;Sala: {{horario.sala}}&#013;Dia: {{horario.dia}}&#013;Séries: {{horario.serie}}&#013;Professor: {{horario.professor}}
                        "
                        
                        >+</a></td>
                      
                                      
                  </tr>
              {% endfor %}

            </tbody>
          </table>
        </div>
      </div>

      <!-- MODAL DADOS -->
      <style>
        #detalhes{
          border: 0px solid white;
          width:100%;
          height:300px;
          font-size: 18px;
          }
      </style>
      <div class="container">
          <div class="modal fade" id="exampleModal" role="dialog">
            <div class="modal-dialog modal-sm">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title"><i class="glyphicon glyphicon-info-sign"></i> Detalhes do Horário</h4>              
  
                </div>
                <div class="modal-body">
                  <h2 id="curso">Curso</h2>
                  <style>textarea{height: 100px}</style>
                  <textarea name="detalhes" class="form-control" id="detalhes"></textarea>
                </div>
  
                <div class="modal-footer">
                  <button type="button" class="btn" data-dismiss="modal"><i class="glyphicon glyphicon-ok"></i> Ok, entendi</button>
  
                </div>
  
              </div>
  
            </div>
  
          </div>
  
        </div>
        <script type="text/javascript">
          $('#exampleModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipientdetalhes = button.data('whateverdetalhes')
            var recipientcurso = button.data('whatevercurso')
            document.getElementById("curso").innerHTML = recipientcurso
            // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
            // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
            var modal = $(this)
            modal.find('#detalhes').val(recipientdetalhes)
            
          })
        </script>
      <!-- MODAL DADOS -->

      <script>

        function sizeOfThings(){
          var windowWidth = window.innerWidth;
          var windowHeight = window.innerHeight;
          
          var screenWidth = screen.width;
          var screenHeight = screen.height;
          
          // var msgW = windowWidth + 'x' + windowHeight;
          // var msgS = screenWidth + 'x' + screenHeight;

          var msgW = windowWidth;
          var msgS = screenWidth;

          if(msgW < 640){
            document.getElementById("table").style.maxHeight ='auto';
          }
          else{
            document.getElementById("table").style.maxHeight ='350px';
          }

          // alert('screenWidth: ' + msgS + "\nwindowWidth: " + msgW)

        };

        sizeOfThings();

        window.addEventListener('resize', function(){
          sizeOfThings();
        });
      
      </script>

      <!-- MODAL BOOTSTRAP -->
      <div class="container">
        <!--modal-->
        <div class="modal fade" id="myModal" role="dialog">
          <div class="modal-dialog modal-sm">
            <!--Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title"><i class="glyphicon glyphicon-info-sign"></i> Informações da Unidade</h4>              

              </div>
              <div class="modal-body">
                <!-- <p><i id="i" class="glyphicon glyphicon-list-alt"></i> Candidatos 
                    <i id="i" class="glyphicon glyphicon-user"></i> {{total}}
                    <i id="i" class="glyphicon glyphicon-ok"></i> {{total_confirm}}
                </p>
                {% for salas in sala %}
                  <p><i id="i" class="glyphicon glyphicon-home"></i> Total sala {{ salas.sala}}
                    <i id="i" class="glyphicon glyphicon-user"></i> {{ salas.value_cpf }}       
                    <i id="i" class="glyphicon glyphicon-ok"></i> {{ salas.value_confirm|default:0 }}
                  </p>
                {% endfor %} -->
                <h1>Informações</h1>

              </div>

              <div class="modal-footer">
                <button type="button" class="btn" data-dismiss="modal"><i class="glyphicon glyphicon-ok"></i> Ok, entendi</button>

              </div>

            </div>

          </div>

        </div>

      </div>
      <!-- MODAL BOOTSTRAP -->



      <!-- Float button -->
      <div id="div2" class="zoom">
          <a class="zoom-fab zoom-btn-large" id="zoomBtn">
              <img src="https://img.icons8.com/ios/50/ffffff/menu-filled.png" width="30"></a>
              <ul class="zoom-menu">                
                <!-- <li><a class="zoom-fab zoom-btn-sm zoom-btn-doc scale-transition scale-out">2</a></li> -->
                <!--Sobre-->
                <li><a class="zoom-fab zoom-btn-sm zoom-btn-feedback scale-transition scale-out" data-toggle="modal" data-target="#myModal">
                        <img src="https://img.icons8.com/material-rounded/50/ffffff/about.png" width="26"></a></li>
               
                <!--Laboratórios-->
                <!-- <li><a href="/post_graphs" class="zoom-fab zoom-btn-sm zoom-btn-tangram scale-transition scale-out">
                        <img src="https://img.icons8.com/metro/26/ffffff/positive-dynamic.png" width="26"></a></li> -->

                <!--Agendar-->
                <!-- <li><a href="#" data-toggle="modal" data-target="#modalCandidatos" class="zoom-fab zoom-btn-sm zoom-btn-person scale-transition scale-out">
                        <img src="https://img.icons8.com/ios/50/ffffff/plus-math-filled.png" width="30"></a></li> -->
            </ul>
      </div>
      <script>
          $('#zoomBtn').click(function() {
              $('.zoom-btn-sm').toggleClass('scale-out');

              if (!$('.zoom-card').hasClass('scale-out')) {
                  $('.zoom-card').toggleClass('scale-out');
              }
          });

          $('.zoom-btn-sm').click(function() {
          var btn = $(this);
          var card = $('.zoom-card');
          if ($('.zoom-card').hasClass('scale-out')) {
              $('.zoom-card').toggleClass('scale-out');
          }
          if (btn.hasClass('zoom-btn-person')) {
              // card.css('background-color', '#d32f2f');

          } else if (btn.hasClass('zoom-btn-doc')) {
              card.css('background-color', '#fbc02d');
          } else if (btn.hasClass('zoom-btn-tangram')) {
              card.css('background-color', '#388e3c');
          } else if (btn.hasClass('zoom-btn-report')) {
              card.css('background-color', '#1976d2');
          } else {
              card.css('background-color', '#7b1fa2');
          }
          });        
      </script>
      <!-- Float button -->

      <!-- Float button  SEARCH-->
      <div id="div3" class="zoom2" >
        <a class="zoom-fab2 zoom-btn-large2" id="zoomBtn2">
            <img src="https://img.icons8.com/windows/50/ffffff/search.png" width="30"
            data-toggle="modal" data-target="#ModalSearch"></a>

    </div>
    <script>
        $('#zoomBtn2').click(function() {
            $('.zoom-btn-sm2').toggleClass('scale-out');

            if (!$('.zoom-card2').hasClass('scale-out')) {
                $('.zoom-card2').toggleClass('scale-out');
            }
        });

        $('.zoom-btn-sm2').click(function() {
        var btn = $(this);
        var card = $('.zoom-card');
        if ($('.zoom-card').hasClass('scale-out')) {
            $('.zoom-card').toggleClass('scale-out');
        }
        if (btn.hasClass('zoom-btn-person')) {
            // card.css('background-color', '#d32f2f');

        } else if (btn.hasClass('zoom-btn-doc')) {
            card.css('background-color', '#fbc02d');
        } else if (btn.hasClass('zoom-btn-tangram')) {
            card.css('background-color', '#388e3c');
        } else if (btn.hasClass('zoom-btn-report')) {
            card.css('background-color', '#1976d2');
        } else {
            card.css('background-color', '#7b1fa2');
        }
        });  

        
5
6
7
$(document).ready(function(){
  $(document).keypress(function(e){
	if(e.wich == 13 || e.keyCode == 13){
		$("#ModalSearch").modal();
	}
  })
})

;     
    </script>
    <!-- Float button -->
      <!-- MODAL CANDIDATOS -->
 <!--Modal para adicionar evento-->
 <div class="container">          
            
    <!-- Modal -->
    <div class="modal fade" id="modalCandidatos" role="dialog" data-backdrop="static"> <!--data-backdrop="static" trava modal-->
        <div class="modal-dialog">
        
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">                    
            <h4 class="modal-title">Novo Candidato</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">

                <!-- <script type="text/javascript" src="/admin/jsi18n/"></script>
                <script type="text/javascript" src="{% static 'admin/js/core.js' %}"></script>
                <script type="text/javascript" src="{% static 'admin/js/admin/RelatedObjectLookups.js' %}"></script>
                <script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.min.js' %}"></script>
                <script type="text/javascript" src="{% static 'admin/js/jquery.init.js' %}"></script>
                <script type="text/javascript" src="{% static 'admin/js/actions.min.js' %}"></script>
                <script type="text/javascript" src="{% static 'admin/js/calendar.js' %}"></script>
                <script type="text/javascript" src="{% static 'admin/js/admin/DateTimeShortcuts.js' %}"></script> -->

                <!-- <script>
                 $('#AdminDateWidget').AdminDateWidget({
                    container:'#myModal',                            
                    });
                </script> -->

                <!--Form do agendamento-->
                <div class="login-page">
                    <div class="form">

                        <form class="pure-form pure-form-aligned" method="POST">
                            {% csrf_token %}

                            <fieldset>
                                {{ form.non_field_errors }}

                                {% for field in form %}
                                    <div class="pure-control-group">
                                        <div class="custon-select">
                                            {{ field.label_tag}}
                                            {{field}}
                                            {{field.errors}}
                                        </div>
                                    </div>
                                {% endfor %}

                                <button class="btn btn-info btn-block"  id="btnim" type="submit" class="button">Salvar</button>

                            </fieldset>
                        </form>

                    </div>

                </div>

                <script>
                    $(function () {
                        $('.datetime-input').datetimepicker({
                            format:'YYYY-MM-DD',
                        })
                    });

                    var label = document.querySelector('label');
                    var input = document.querySelector('input');

                    label.onclick = function () {
                        label.style.display = 'none';
                        input.focus();
                    }
                    input.onblur = function () {
                        if(!this.value) label.style.display = 'block';
                    }
                </script>

            </div>
            <!-- <div class="modal-footer">
                <button class="btn btn-info btn-block"  id="btnim" type="submit" class="button">Salvar</button>
                <button type="button" class="btn btn-block" data-dismiss="modal">Cancelar</button>
            </div> -->
        </div>
        
        </div>
    </div>
    
</div><!--Fim Modal-->
      <!-- MODAL CANDIDATOS -->

            <!-- MODAL SEARCH -->

            <div id="ModalSearch" class="modal fade" role="dialog">
              <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">

                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <!-- <h4 class="modal-title"><i class="glyphicon glyphicon-info-sign"></i> Informações do VG</h4>               -->
                      <h4 class="modal-title"><i class="glyphicon glyphicon-info-sign"></i> Consultar Horário</h4>              
      
                  </div>
                  <div class="modal-body">
                      <!-- <form class="input-group" action="" method="GET">
                          <div class="input-group">
                                  <input name="search" type="text" class="form-control" placeholder="Search...CPF - Nome - Sala" autofocus>
                                  <span class="input-group-btn">
                                      <button class="btn btn-default" type="submit">
                                      <span class="glyphicon glyphicon-search"></span>
                                      </button>
                                  </span>
                              </div>
                        </form> -->

                        <form class="input-group" action="" method="GET">
                            <div class="input-group">
                                    <input name="search" type="text" class="form-control" placeholder="Search...Curso - Dia - Série - Sala" autofocus>
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="submit">
                                        <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                          </form>
                  </div>
                  <br>
                  <br>
                  <div class="modal-footer">
                    
                  </div>
                </div>
              </div>
          </div>


            <!-- <div class="container">
              
              <div class="modal fade" id="ModalSearch" role="dialog">
                <div class="modal-dialog modal-sm">
                
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title"><i class="glyphicon glyphicon-info-sign"></i> Informações do VG</h4>              
      
                    </div>
                    <div class="modal-body">
                      <form class="input-group" action="" method="GET">
                        <div class="input-group">
                                <input name="search" type="text" class="form-control" placeholder="Search...CPF - Nome - Sala" autofocus>
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="submit">
                                    <span class="glyphicon glyphicon-search"></span>
                                    </button>
                                </span>
                            </div>
                      </form>
                    </div>
                    <br>
                    <br>
                    <br>
                    <div class="modal-footer">                      
                      
                    </div>
      
                  </div>
      
                </div>
      
              </div>
      
            </div> -->
            <!-- MODAL SEARCH -->

{% endblock %}